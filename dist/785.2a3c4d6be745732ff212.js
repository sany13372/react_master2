"use strict";(self.webpackChunkreact_middle=self.webpackChunkreact_middle||[]).push([[785],{11:(e,t,a)=>{a.d(t,{I:()=>c});var s=a(7294),r=a(9457),l=a(4187);var n=a(5893);const c=(0,s.memo)((e=>{const{className:t,value:a="",onChange:s,type:c="text",placeholder:i,readonly:o,...d}=e,u={fTN1P:o};return(0,n.jsxs)(r.g,{gap:"4",max:!0,className:(0,l.A)("LuFDU",u,[t]),children:[(0,n.jsx)("div",{children:i}),(0,n.jsx)("input",{type:c,onChange:e=>{s?.(e.target.value)},className:"X8EVb",placeholder:i,value:a,readOnly:o,...d})]})}))},5785:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(7294),r=a(9887),l=a(3942);const n=a(6628).p.injectEndpoints({endpoints:e=>({getArticleRating:e.query({query:e=>{let{userId:t,articleId:a}=e;return{url:"/article-ratings",params:{userId:t,articleId:a}}}}),rateArticle:e.mutation({query:e=>({url:"/article-ratings",method:"POST",body:e})})})}),c=n.useGetArticleRatingQuery,i=n.useRateArticleMutation;var o,d=a(5518),u=a(4156),h=a(1554),m=a(2880),x=a(11),g=a(5402),p=a(9457);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},j.apply(this,arguments)}const v=e=>s.createElement("svg",j({width:24,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=s.createElement("path",{d:"M11.075 1.633c.32-.844 1.53-.844 1.852 0l2.07 5.734a.99.99 0 0 0 .926.633h5.087c.94 0 1.35 1.17.61 1.743L18 13a.968.968 0 0 0-.321 1.092L19 19.695c.322.9-.72 1.673-1.508 1.119l-4.917-3.12a1 1 0 0 0-1.15 0l-4.917 3.12c-.787.554-1.83-.22-1.508-1.119l1.322-5.603A.968.968 0 0 0 6 13L2.38 9.743C1.64 9.17 2.053 8 2.99 8h5.087a.989.989 0 0 0 .926-.633l2.07-5.734h0Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})));var k=a(3895),b=a(4187);const C={starIcon:"Z1C6Y",hovered:"Qpbxq",selected:"ouStZ"};var y=a(5893);const f=[1,2,3,4,5],I=(0,s.memo)((e=>{const{className:t,size:a=30,selectedStars:r=0,onSelect:l}=e,[n,c]=(0,s.useState)(r),[i,o]=(0,s.useState)(Boolean(r)),d=()=>{i||c(0)},u=e=>()=>{i||(l?.(e),c(e),o(!0))};return(0,y.jsx)("div",{className:(0,b.A)(C.StarRating,{},[t]),children:f.map((e=>{return(0,y.jsx)(k.J,{className:(0,b.A)(C.starIcon,{[C.hovered]:n>=e,[C.selected]:i},[]),Svg:v,width:a,height:a,onMouseEnter:(t=e,()=>{i||c(t)}),onMouseLeave:d,onClick:u(e)},e);var t}))})}));var S=a(8699);const N=(0,s.memo)((e=>{const{className:t,onAccept:a,feedbackTitle:l,hasFeedback:n,onCancel:c,title:i,rate:o=0}=e,{t:j}=(0,r.$G)(),[v,k]=(0,s.useState)(!1),[b,C]=(0,s.useState)(o),[f,N]=(0,s.useState)(""),L=(0,s.useCallback)((e=>{C(e),n?k(!0):a?.(e)}),[n,a]),O=(0,s.useCallback)((()=>{k(!1),a?.(b,f)}),[f,a,b]),w=(0,s.useCallback)((()=>{k(!1),c?.(b)}),[c,b]),A=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(S.xv,{title:l}),(0,y.jsx)(x.I,{value:f,onChange:N,placeholder:j("Your review")})]});return(0,y.jsxs)(h.Z,{className:t,max:!0,children:[(0,y.jsxs)(p.g,{align:"center",gap:"8",children:[(0,y.jsx)(S.xv,{title:b?j("Thank you for rating"):i}),(0,y.jsx)(I,{selectedStars:b,size:40,onSelect:L})]}),(0,y.jsx)(d.I3,{children:(0,y.jsx)(g.u,{isOpen:v,lazy:!0,children:(0,y.jsxs)(p.g,{max:!0,gap:"32",children:[A,(0,y.jsxs)(p.U,{max:!0,gap:"16",justify:"end",children:[(0,y.jsx)(u.zx,{onClick:w,theme:u.Wu.OUTLINE_RED,children:j("Close")}),(0,y.jsx)(u.zx,{onClick:O,theme:u.Wu.OUTLINE,children:j("Send")})]})]})})}),(0,y.jsx)(d.$,{children:(0,y.jsx)(m.d,{isOpen:v,lazy:!0,onClose:w,children:(0,y.jsxs)(p.g,{gap:"32",children:[A,(0,y.jsx)(u.zx,{fullWidth:!0,onClick:O,size:u.qE.L,theme:u.Wu.OUTLINE,children:j("Send")})]})})})]})}));var L=a(5321),O=a(7050);const w=(0,s.memo)((e=>{const{className:t,articleId:a}=e,{t:n}=(0,r.$G)("articles_details"),o=(0,l.v9)(L.m5),{data:d,isLoading:u}=c({userId:o?.id??"",articleId:a}),[h]=i(),m=(0,s.useCallback)(((e,t)=>{try{h({articleId:a,rate:e,userId:o?.id??"",feedback:t})}catch(e){console.log(e)}}),[a,h,o?.id]),x=(0,s.useCallback)((e=>{m(e)}),[m]),g=(0,s.useCallback)(((e,t)=>{m(e,t)}),[m]);if(u)return(0,y.jsx)(O.O,{width:"100%",height:120});const p=d?.[0];return(0,y.jsx)(N,{onAccept:g,onCancel:x,className:t,rate:p?.rate,title:n("Rate the article"),feedbackTitle:n("Leave your feedback about the article"),hasFeedback:!0})}))}}]);